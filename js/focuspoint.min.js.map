{"version":3,"sources":["app/image-focus.js","app/models/model.attachment.js","app/models/model.focusinterface.js","app/views/view.attachment.js","app/views/view.cropbutton.js","app/views/view.focusinterface.js","app/views/view.imagefocus.js"],"names":["$","window","IFA","Models","Collections","Views","css","_imageFocus","imageFocus","_wrapper","_img","_point","_clickarea","_button","button","_primary","_disabled","CalcService","minMaxRange","input","min","max","Math","document","on","ImageFocus","jQuery","Attachment","Backbone","Model","extend","url","ajaxurl","apiArgs","id","defaults","src","width","height","offset","x","y","focusPointOrigin","focusPoint","differState","ajaxState","$img","initialize","options","self","this","fetchAttachmentData","setDifferState","resetAjaxState","fetch","data","param","success","collection","validateFocusPoint","set","error","console","log","response","origin","get","once","model","hasOwnProperty","FocusInterface","radius","position","clickPosition","initState","moveState","activeState","hoverState","View","properties","focusInterface","_","bind","updateDimensions","left","top","Cropbutton","$cropButton","cropButton","focusPointL10n","$el","append","save","differStateHandler","ajaxStateHandler","highlight","disable","setButtonText","cropButtonProgress","cropButtonSuccess","cropButtonFailed","activate","$input","text","removeClass","addClass","template","imgHtml","$imageFocus","$container","$clickarea","$focusPoint","attachment","wp","outerHTML","wrap","find","render","updateFocusPoint","updateDimensionData","setStateEvent","events","html","imageObject","state","setElements","setEvents","event","which","startMove","move","reset","updateClickPosition","mouse","pageX","pageY","imageWidth","imageHeight","pos","backgroundImage","backgroundSize","backgroundPosition","axe","stateObject","stateClass","toggleClassState","toggleClass","setInterval","$attachmentDetails","length","each","$this","startApplication","$object","$detailsImage","el"],"mappings":"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","file":"focuspoint.min.js"}