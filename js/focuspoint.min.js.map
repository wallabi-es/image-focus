{"version":3,"sources":["app/image-focus.js","app/models/model.attachment.js","app/models/model.cropbutton.js","app/models/model.focusinterface.js","app/views/view.attachment.js","app/views/view.cropbutton.js","app/views/view.focusinterface.js","app/views/view.imagefocus.js"],"names":["$","window","IFA","Models","Collections","Views","css","_imageFocus","imageFocus","_wrapper","_img","_point","_clickarea","_button","button","_primary","_disabled","CalcService","minMaxRange","input","min","max","Math","document","on","ImageFocus","jQuery","Attachment","Backbone","Model","extend","url","ajaxurl","apiArgs","id","defaults","src","width","height","offset","x","y","focusPointOrigin","focusPoint","differState","ajaxState","$img","initialize","options","self","this","fetchAttachmentData","setDifferState","resetAjaxState","fetch","data","param","success","collection","validateFocusPoint","set","error","console","log","response","saveAttachmentData","save","origin","get","once","model","hasOwnProperty","CropButton","text","focusPointL10n","cropButton","highlightState","disableState","FocusInterface","radius","position","clickPosition","initState","moveState","activeState","hoverState","View","properties","focusInterface","_","bind","updateDimensions","left","top","Cropbutton","$cropButton","attachment","$el","append","differStateHandler","ajaxStateHandler","render","toggleClass","highlight","disable","cropButtonProgress","cropButtonSuccess","cropButtonFailed","activate","template","imgHtml","$imageFocus","$container","$clickarea","$focusPoint","wp","addClass","outerHTML","wrap","find","updateFocusPoint","updateDimensionData","setStateEvent","events","html","imageObject","state","setElements","setEvents","event","which","startMove","move","reset","updateClickPosition","mouse","pageX","pageY","imageWidth","imageHeight","pos","backgroundImage","backgroundSize","backgroundPosition","axe","stateObject","stateClass","toggleClassState","setInterval","$attachmentDetails","length","each","$this","startApplication","$object","$detailsImage","el"],"mappings":"CAAC,SAAUA,GAAGC;IAEb;IAEAA,EAAOC;QACNC;QACAC;QACAC;QACAC;YACCC,aAAa;YACbC;gBACCC,UAAU;gBACVC,MAAM;gBACNC,QAAQ;gBACRC,YAAY;gBACZC,SAAS;;YAEVA,SAAS;YACTC;gBACCC,UAAU;gBACVC,WAAW;;;QAGbC;YASCC,aAAa,SAAUC,GAAOC,GAAKC;gBAElC,OAAQC,KAAKF,IAAIC,GAAKC,KAAKD,IAAID,GAAKD;;;OAKvCnB,EAAEuB,UAAUC,GAAG,SAAS;QAEN,IAAItB,IAAIG,MAAMoB;;EAI/BC,QAAQzB,SC7CT,SAAUD,GAAGC;IAEb;IAEAC,IAAIC,OAAOwB,aAAaC,SAASC,MAAMC;QAItCC,KAAKC;QACLC,WAAU;QACVC,KAAI;QACJC;YACCC,MAAK;YACLC,QAAO;YACPC,SAAQ;YACRC;gBACCC,IAAG;gBACHC,IAAG;;YAEJC;gBACCF,IAAG;gBACHC,IAAG;;YAEJE;gBACCH,GAAG;gBACHC,GAAG;;YAEJG,cAAa;YACbC,YAAW;;QAEZC,OAAM;QAONC,YAAY,SAAUC;YAErB,IAAIC,IAAOC;YACXA,KAAKJ,OAAOE,EAAQF,MAEpBI,KAAKC,uBAGLD,KAAK1B,GAAG,2BAA2B;gBAElCyB,EAAKG,gBAAe;eAClBF,OAEHA,KAAK1B,GAAG,sBAAsB0B,KAAKG,gBAAgBH;;QAQpDC,qBAAqB;YAEpB,IAAIF,IAAOC;YAEXA,KAAKI;gBACJvB,KAAKC,UAAU;gBACfuB,MAAMvD,EAAEwD;oBAAOtB,IAAIgB,KAAKhB;;gBACxBuB,SAAS,SAAUC,GAAYH,GAAMP;oBAEpC,KAAqB,MAAjBO,EAAKE,SACR;wBAECR,EAAKU,mBAAmBJ,IAGxBN,EAAKW;4BAAKxB,KAAOmB,EAAKnB;4BACtBa,EAAKW;4BAAKlB,kBAAoBa,EAAKZ;4BACnCM,EAAKW;4BAAKjB,YAAcY,EAAKZ;;sBAC5B,OAAOkB;wBACRC,QAAQC,IAAIF;;;gBAIfA,OAAO,SAAUH,GAAYM,GAAUhB;oBAGtCc,QAAQC,IAAIC;;;;QAQfC,oBAAoB;YACnB,IAAIhB,IAAQC;YACZA,KAAKU,IAAI,aAAa,aACtBV,KAAKgB;gBACJnC,KAAKC,UAAU;gBACfyB,SAAS,SAAUC,GAAYH,GAAMP;oBAIpC,KAAqB,MAAjBO,EAAKE,SACR;wBAECR,EAAKU,mBAAmBJ,IAGxBN,EAAKW;4BAAKlB,kBAAoBa,EAAKZ;4BACnCM,EAAKW,IAAI,aAAa;sBAErB,OAAOC;wBACRC,QAAQC,IAAIF,IACZZ,EAAKW,IAAI,aAAa;;;gBAIzBC,OAAO,SAAUH,GAAYM,GAAUhB;oBAGtCC,EAAKW,IAAI,aAAa,WACtBE,QAAQC,IAAIC;;;;QAYfZ,gBAAgB,SAAUe;YAEzB,IAAIlB,IAAOC,MACPR,IAAmBQ,KAAKkB,IAAI,qBAC5BzB,IAAaO,KAAKkB,IAAI,eACtBxB,KAAc;YAEdF,EAAiBF,MAAMG,EAAWH,MACrCI,KAAc,IAGXF,EAAiBD,MAAME,EAAWF,MACrCG,KAAc,IAGfM,KAAKU,IAAI,eAAehB,KAGT,MAAXuB,MAAmC,MAAhBvB,KACtBM,KAAKmB,KAAK,qBAAqB;gBAE9BpB,EAAKG,gBAAe;eAClBF;;QAULG,gBAAgB;aAEU,MAArBH,KAAKN,eACRK,KAAKqB,MAAMV,IAAI,cAAa;;QAU9BD,oBAAoB,SAAUJ;YAE7B,KAAKA,EAAKZ,WAAW4B,eAAe,SAAShB,EAAKZ,WAAW4B,eAAe,MAC3E,MAAK;;;EAIP7C,QAAQzB,SCxLT,SAAUD,GAAGC;IAEbC,IAAIC,OAAOqE,aAAa5C,SAASC,MAAMC;QACtCK;YACCsC,MAAMC,eAAeC;YACrBC,iBAAgB;YAChBC,eAAc;;QAGf9B,YAAY;;EAKZrB,QAAQzB,SCdT,SAAUD,GAAGC;IAEbC,IAAIC,OAAO2E,iBAAiBlD,SAASC,MAAMC;QAC1CK;YACCE,OAAO;YACPC,QAAQ;YACRyC,QAAQ;YACRxC;gBACCC,GAAG;gBACHC,GAAG;;YAEJuC;gBACCxC,GAAG;gBACHC,GAAG;;YAEJwC;gBACCzC,GAAG;gBACHC,GAAG;;YAEJyC,YAAW;YACXC,YAAW;YACXC,cAAa;YACbC,aAAY;;QAGbtC,YAAY;;EAKZrB,QAAQzB,SC9BT,SAAUD,GAAGC;IAEb;IAEAC,IAAIG,MAAMsB,aAAaC,SAAS0D,KAAKxD;QAIpCiB,YAAY,SAAUwC,GAAYvC;YAGjCE,KAAKsC,iBAAiBD,EAAWC,gBAGjCxF,EAAEC,GAAQuB,GAAG,UAAUiE,EAAEC,KAAKxC,KAAKyC,kBAAkBzC;YAGrDA,KAAKoB,MAAMD,KAAK,qBAAqBnB,KAAKyC,kBAAkBzC,OAC5DA,KAAKoB,MAAM9C,GAAG,2BAA2B0B,KAAKyC,kBAAkBzC;YAGhEA,KAAKsC,eAAehE,GAAG,sBAAqB0B,KAAKyC,kBAAkBzC;;QAQpEyC,kBAAkB;YAEjB,IAAI7C,IAAOI,KAAKoB,MAAMxB,MAClBP;gBACHC,GAAGM,EAAKP,SAASqD;gBACjBnD,GAAGK,EAAKP,SAASsD;;YAGlB3C,KAAKoB,MAAMV;gBACVvB,OAASS,EAAKT;gBACdC,QAAUQ,EAAKR;gBACfC,QAAUA;;;;EAKZb,QAAQzB,SC7CT,SAAUD,GAAGC;IAEb;IAEAC,IAAIG,MAAMyF,aAAalE,SAAS0D,KAAKxD;QACpCiE,cAAa;QAEbhD,YAAY,SAAUwC,GAAYvC;YAGjCE,KAAK8C,aAAaT,EAAWS;YAG7B,IAAIrB,IAAa,kCAAkCzE,IAAII,IAAIE,WAAWK,UAAU,MAAMX,IAAII,IAAIO,UAAU;YACxGqC,KAAK+C,IAAIC,OAAOvB,IAGhBzB,KAAK6C,cAAc/F,EAAE,MAAME,IAAII,IAAIE,WAAWK,UAG9CqC,KAAK6C,YAAYvE,GAAG,SAASiE,EAAEC,KAAKxC,KAAK8C,WAAW/B,oBAAoBf,KAAK8C;YAE7E9C,KAAK8C,WAAWxE,GAAG,sBAAsB0B,KAAKiD,oBAAoBjD,OAClEA,KAAK8C,WAAWxE,GAAG,oBAAoB0B,KAAKkD,kBAAkBlD;YAG9DA,KAAKoB,MAAM9C,GAAG,uBAAuB0B,KAAKmD,QAAQnD,OAClDA,KAAKoB,MAAM9C,GAAG,yBAAyB0B,KAAKmD,QAAQnD;YACpDA,KAAKoB,MAAM9C,GAAG,eAAe0B,KAAKmD,QAAQnD,OAG1CA,KAAKmD;;QAGNA,QAAQ;YAEP,IAAI5B,IAAOvB,KAAKoB,MAAMF,IAAI,SACtBS,IAAe3B,KAAKoB,MAAMF,IAAI,iBAC9BQ,IAAiB1B,KAAKoB,MAAMF,IAAI;YAEpClB,KAAK6C,YAAYO,YAAYpG,IAAII,IAAIQ,OAAOE,WAAW6D,IACvD3B,KAAK6C,YAAYO,YAAYpG,IAAII,IAAIQ,OAAOC,UAAU6D;YACtD1B,KAAK6C,YAAYtB,KAAKA;;QAGvB0B,oBAAoB;aAIC,MAFFjD,KAAK8C,WAAW5B,IAAI,kBAGrClB,KAAKoB,MAAMV,IAAI,QAAQc,eAAeC;YACtCzB,KAAKqD,eAELrD,KAAKsD;;QAIPJ,kBAAkB;YAIjB,QAFgBlD,KAAK8C,WAAW5B,IAAI;cAGnC,KAAK;gBACJlB,KAAKoB,MAAMV,IAAI,QAAQc,eAAe+B,qBACtCvD,KAAKsD;gBACL;;cACD,KAAK;gBACJtD,KAAKoB,MAAMV,IAAI,QAAQc,eAAegC,oBACtCxD,KAAKsD;gBACL;;cACD,KAAK;gBACJtD,KAAKoB,MAAMV,IAAI,QAAQc,eAAeiC,mBACtCzD,KAAK0D;gBACL;;cACD;gBACC1D,KAAKoB,MAAMV,IAAI,QAAQc,eAAeC;;;QAIzC4B,WAAW;YAEVrD,KAAKoB,MAAMV,IAAI,iBAAgB,IAC/BV,KAAKoB,MAAMV,IAAI,mBAAkB;;QAGlCgD,UAAU;YAET1D,KAAKoB,MAAMV,IAAI,iBAAgB,IAC/BV,KAAKoB,MAAMV,IAAI,mBAAkB;;QAGlC4C,SAAS;YAERtD,KAAKoB,MAAMV,IAAI,iBAAgB,IAC/BV,KAAKoB,MAAMV,IAAI,mBAAkB;;;EAIlClC,QAAQzB,SClGT,SAAUD,GAAGC;IAEb;IAEAC,IAAIG,MAAMyE,iBAAiBlD,SAAS0D,KAAKxD;QACxC+E,WAAU;QACV/D,OAAM;QACNgE,UAAS;QACTC,cAAa;QACbC,aAAY;QACZC,aAAY;QACZC,cAAa;QAQbnE,YAAY,SAAUwC,GAAYvC;YAGjCE,KAAK8C,aAAaT,EAAWS,YAG7B9C,KAAK2D,WAAWM,GAAGN,SAAS;YAG5B3D,KAAKJ,OAAOE,EAAQF,MACpBI,KAAKJ,KAAKsE,SAASlH,IAAII,IAAIE,WAAWE,OAGtCwC,KAAK4D,UAAU5D,KAAKJ,KAAKsB,IAAI,GAAGiD;YAGhCnE,KAAKJ,KAAKwE,KAAK,sCACfpE,KAAK8D,aAAa9D,KAAK+C,IAAIsB,KAAK;YAGhCrE,KAAKmD,UACLnD,KAAKoB,MAAM9C,GAAG,mBAAmB0B,KAAKsE,kBAAkBtE,OAGxDA,KAAK8C,WAAW3B,KAAK,qBAAqBnB,KAAKuE,qBAAqBvE;YACpEA,KAAK8C,WAAW3B,KAAK,qBAAqBnB,KAAKsE,kBAAkBtE,OAGjEA,KAAKwE,cAAc,cAAa;YAChCxE,KAAKwE,cAAc,eAAc,cACjCxE,KAAKwE,cAAc,aAAY;YAC/BxE,KAAKwE,cAAc,aAAY;;QAMhCC;QAOAtB,QAAQ;YAGP,IAAI1D,IAAaO,KAAK8C,WAAW5B,IAAI;YAErClB,KAAK8D,WAAWY,KAAK1E,KAAK2D;gBACzBgB,aAAa3E,KAAK4D;gBAClBlB,MAAMjD,EAAWH;gBACjBqD,KAAKlD,EAAWF;gBAChBqF,OAAO;iBAGR5E,KAAK6E,eACL7E,KAAK8E,aAEL9E,KAAKoB,MAAMV,IAAI,cAAa;;QAM7BmE,aAAa;YAEZ7E,KAAK6D,cAAc7D,KAAK8D,WAAWO,KAAK,MAAMrH,IAAII,IAAIC,cACtD2C,KAAK+D,aAAa/D,KAAK8D,WAAWO,KAAK,MAAMrH,IAAII,IAAIE,WAAWI;YAChEsC,KAAKgE,cAAchE,KAAK8D,WAAWO,KAAK,MAAMrH,IAAII,IAAIE,WAAWG,SACjEuC,KAAK8C,WAAWlD,OAAOI,KAAKJ,OAAOI,KAAK8D,WAAWO,KAAK,MAAMrH,IAAII,IAAIE,WAAWE;YAGjFwC,KAAK8C,WAAWlD,OAAOI,KAAKJ;;QAM7BkF,WAAW;YAEV,IAAI/E,IAAOC;YACXA,KAAK+D,WACHzF,GAAG,aAAa,SAAUyG;gBAGN,MAAhBA,EAAMC,SACTjF,EAAKkF,UAAUF,IAAO,GACpBG,KAAKH;gBAIV/E,KAAKgE,YACH1F,GAAG,aAAa,SAAUyG;gBAGN,MAAhBA,EAAMC,SACTjF,EAAKkF,UAAUF;eAGhBzG,GAAG,cAAc;gBAEjByB,EAAKqB,MAAMV,IAAI,eAAc;eAE7BpC,GAAG,cAAc;gBAEjByB,EAAKqB,MAAMV,IAAI,eAAc;gBAG/B5D,EAAEC,GACAuB,GAAG,WAAW,SAAUyG;gBAGJ,MAAhBA,EAAMC,SACTjF,EAAKqB,MAAMV;oBACVuB,YAAa;oBACbC,cAAe;;eAIjB5D,GAAG,aAAa,SAAUyG;gBAE1BhF,EAAKmF,KAAKH;eAEVzG,GAAG,UAAU;gBAEbyB,EAAKwE,sBACHD;;;QAWLW,WAAW,SAAUF,GAAOI;YAc3B,OARAnF,KAAKuE,sBACHa,oBAAoBL,GAAOI,IAE7BnF,KAAKoB,MAAMV;gBACVuB,YAAa;gBACbC,cAAe;gBAGTlC;;QASRkF,MAAM,SAAUH;YAEf,KAAoC,MAAhC/E,KAAKoB,MAAMF,IAAI,cAClB,QAAO;YAGR,IAAImE;gBACH/F,GAAGyF,EAAMO;gBACT/F,GAAGwF,EAAMQ;eAINzD,QACAzC,IAASW,KAAK8C,WAAW5B,IAAI,WAC7Ba,IAAgB/B,KAAKoB,MAAMF,IAAI,kBAC/BsE,IAAaxF,KAAK8C,WAAW5B,IAAI,UACjCuE,IAAczF,KAAK8C,WAAW5B,IAAI;YAEtCY,EAASxC,IAAI+F,EAAM/F,IAAID,EAAOC,IAAIyC,EAAczC,GAChDwC,EAASvC,IAAI8F,EAAM9F,IAAIF,EAAOE,IAAIwC,EAAcxC,GAGhDuC,EAASxC,IAAItC,IAAIe,YAAYC,YAAY8D,EAASxC,GAAG,GAAGkG;YACxD1D,EAASvC,IAAIvC,IAAIe,YAAYC,YAAY8D,EAASvC,GAAG,GAAGkG;YAGxD,IAAIhG;YAQJ,OAPAA,EAAWH,IAAKwC,EAASxC,IAAIkG,IAAc,KAC3C/F,EAAWF,IAAKuC,EAASvC,IAAIkG,IAAe,KAG5CzF,KAAK8C,WAAWpC;gBAAKjB,YAAcA;gBACnCO,KAAKoB,MAAMV;gBAAKoB,UAAYA;gBAErB9B;;QAORsE,kBAAkB;YAEjB,IAAI7E,IAAaO,KAAK8C,WAAW5B,IAAI,eACjCY,IAAW9B,KAAKoB,MAAMF,IAAI,aAC1BW,IAAS7B,KAAKoB,MAAMF,IAAI,WACxBsE,IAAaxF,KAAK8C,WAAW5B,IAAI,UACjCuE,IAAczF,KAAK8C,WAAW5B,IAAI,WAClChC,IAAMc,KAAK8C,WAAW5B,IAAI,QAE1BwE;YAYJ,OAXAA,EAAIpG,IAAI,KAAKwC,EAASxC,IAAIuC,IAC1B6D,EAAInG,IAAI,KAAKuC,EAASvC,IAAIsC,IAE1B7B,KAAKgE,YAAY5G;gBAChBsF,MAAMjD,EAAWH,IAAI;gBACrBqD,KAAKlD,EAAWF,IAAI;gBACpBoG,iBAAiB,UAAUzG,IAAM;gBACjC0G,gBAAgBJ,IAAa,QAAQC,IAAc;gBACnDI,oBAAoBH,EAAIpG,IAAI,QAAQoG,EAAInG,IAAI;gBAGtCS;;QAURoF,qBAAqB,SAAUL,GAAOI;YAErC,IAAIW;gBACHxG,GAAG;gBACHC,GAAG;;YAGJ,KAAc,MAAV4F,GAAgB;gBACnB,IAAIE;oBACH/F,GAAGyF,EAAMO;oBACT/F,GAAGwF,EAAMQ;mBAENlG,IAASW,KAAKoB,MAAMF,IAAI;iBAC5B4E,QACIxG,IAAI+F,EAAM/F,IAAID,EAAOC,GACzBwG,EAAIvG,IAAI8F,EAAM9F,IAAIF,EAAOE;;YAK1B,OAFAS,KAAKoB,MAAMV;gBAAKqB,eAAiB+D;gBAE1B9F;;QAQRuE,qBAAqB;YAGpBvE,KAAKoB,MAAMjC,QAAQa,KAAKgE,YAAY7E,SACpCa,KAAKoB,MAAMhC,SAASY,KAAKgE,YAAY5E;YAGrC,IAAIyC,IAAS7B,KAAKoB,MAAMjC,QAAQ;YAChCa,KAAKoB,MAAMV,IAAI,UAAUmB;YAGzB,IAAIxC,IAASW,KAAKgE,YAAY3E;YAC9BW,KAAKoB,MAAMV;gBACVrB;oBACCC,GAAGD,EAAOqD,OAAOb;oBACjBtC,GAAGF,EAAOsD,MAAMd;;;YAIlB,IAAIpC,IAAaO,KAAK8C,WAAW5B,IAAI,eAEjCY;gBACHxC,GAAIG,EAAWH,IAAI,MAAOU,KAAK8C,WAAW5B,IAAI;gBAC9C3B,GAAIE,EAAWF,IAAI,MAAOS,KAAK8C,WAAW5B,IAAI;;YAK/C,OAFAlB,KAAKoB,MAAMV;gBAAKoB,UAAYA;gBAErB9B;;QASRwE,eAAe,SAASuB,GAAYC;YACnC,IAAIjG,IAAOC;YACXA,KAAKoB,MAAM9C,GAAG,YAAUyH,GAAa;gBAEpChG,EAAKkG,iBAAiBF,GAAaC;;;QAUrCC,kBAAkB,SAAUF,GAAaC;YAExC,IAAIpB,IAAQ5E,KAAKoB,MAAMF,IAAI6E;YAC3B/F,KAAK6D,YAAYT,YAAY4C,GAAYpB;;;EAI1CpG,QAAQzB,SClVT,SAAUD,GAAGC;IAEb;IAEAC,IAAIG,MAAMoB,aAAaG,SAAS0D,KAAKxD;QACpCiB,YAAY;YAEX,IAAIE,IAAOC;YAEXkG,YAAY;gBAEX,IAAIC,IAAqBrJ,EAAE;gBAEvBqJ,EAAmBC,WAAWtJ,EAAE,oBAAoBsJ,UAEvDD,EAAmBE,KAAK;oBAEvB,IAAIC,IAAQxJ,EAAEkD;oBACdD,EAAKwG,iBAAiBD;;eAMtB;;QAGJC,kBAAkB,SAASC;YAE1B,IAAIC,IAAgBD,EAAQnC,KAAK;YACjCmC,EAAQtC,SAAS;YAKjB,IAAIpB,IAAa,IAAI9F,IAAIC,OAAOwB;gBAC/BO,IAAIwH,EAAQnG,KAAK;gBACjBT,MAAM6G;gBAGHnE,IAAiB,IAAItF,IAAIC,OAAO2E,oBAChCH,IAAa,IAAIzE,IAAIC,OAAOqE;YAKX,IAAItE,IAAIG,MAAMsB;gBAClC2C,OAAO0B;gBACPR,gBAAgBA;gBAGQ,IAAItF,IAAIG,MAAMyE;gBACtC8E,IAAIF;gBACJpF,OAAOkB;gBACPQ,YAAYA;;gBAEZlD,MAAO6G;gBAGa,IAAIzJ,IAAIG,MAAMyF;gBAClC8D,IAAIF,EAAQnC,KAAK;gBACjBjD,OAAOK;gBACPqB,YAAYA;;YAGbR,EAAe5B,IAAI,eAAc;;;EAIlClC,QAAQzB","file":"focuspoint.min.js"}